{"version":3,"sources":["reportWebVitals.js","ServiceItems.js","Utils.js","ServiceList.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ServiceItems","props","handleClickOpen","setState","state","open","handleClose","handleAgree","console","log","deleteItem","handleDisagree","handleChange","selectedId","createService","bind","this","a","fetch","method","headers","body","JSON","stringify","rawResponse","json","response","result","document","getElementById","remove","alert","listItems","entries","map","className","Box","width","bgcolor","p","my","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","DialogActions","Button","onClick","color","autoFocus","item","left","url","openDialog","React","Component","Utils","input","RegExp","test","ServiceList","items","addItem","loadData","res","isLoaded","error","newItem","e","_inputElement","value","isValidURL","status","prevState","concat","saveItem","preventDefault","onSubmit","ref","placeholder","type","ReactDOM","render"],"mappings":"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","file":"static/js/main.99c5d9f7.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, {Component} from \"react\";\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport Fade from 'react-reveal/Fade';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\n/**\n * Items in service list component.\n *\n * @author Janos Vajda\n */\nclass ServiceItems extends React.Component {\n\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: false\n        };\n\n        this.selectedId = null;\n\n        this.createService = this.createService.bind(this);\n    }\n\n    openDialog() {\n        this.setState(state => ({\n            open: true\n        }));\n    }\n\n    handleClickOpen = () => {\n        this.setState(state => ({\n            open: true\n        }));\n    };\n\n    handleClose = () => {\n        this.setState(state => ({\n            open: false\n        }));\n    };\n\n    handleAgree = () => {\n        console.log(\"Delete\");\n        this.deleteItem();\n        this.handleClose();\n    };\n\n    handleDisagree = () => {\n        console.log(\"Cancel deleting.\");\n        this.handleClose();\n    };\n\n    deleteItem() {\n\n        (async () => {\n            const rawResponse = await fetch('http://localhost:8888/service', {\n                method: 'DELETE',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({'id': this.selectedId})\n            });\n\n            const response = await rawResponse.json();\n\n            console.log('Response', response);\n            console.log('Response', response.result);\n            if (response.result === 'ok') {\n                document.getElementById(this.selectedId).remove();\n            } else {\n                alert('Delete failed. Please, try it again.')\n            }\n\n            this.selectedId = null;\n            console.log('Response of delete item in ServiceItem componenet: ', response);\n        })();\n    }\n\n    render() {\n\n        let serviceEntries = this.props.entries;\n        let listItems = serviceEntries.map(this.createService);\n\n        return (\n            <div className=\"listDiv\">\n                <Box width=\"100%\" bgcolor=\"white\" p={1} my={0.5}>\n                    {listItems}\n                </Box>\n\n                <Dialog\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                    <DialogTitle id=\"alert-dialog-title\">\n                        {\"Delete\"}\n                    </DialogTitle>\n                    <DialogContent>\n                        <DialogContentText id=\"alert-dialog-description\">\n                            Would you like to delete the selected item?\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleDisagree} color=\"primary\">\n                            No\n                        </Button>\n                        <Button onClick={this.handleAgree} color=\"primary\" autoFocus>\n                            Yes\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        );\n    }\n\n    createService(item) {\n        console.log('Item in ServiceItems: ', item)\n\n        const handleDelete = (id) => {\n            console.log('handleDelete row Id: ', id);\n            this.selectedId = id;\n            this.openDialog();\n        };\n\n        const handleStatus = (id) => {\n            console.log('handleStatus row Id: ', id)\n        };\n\n        return <Fade left>\n            <div className=\"itemRow\" key={ item.id } id={ item.id }>\n                <span className=\"textColumn\">{ item.url }</span>\n                <span className=\"buttonColum\"><Button color=\"secondary\"\n                                                      onClick={() => handleDelete(item.id)}\n                >Delete</Button></span>\n\n                <span className=\"buttonColum\"><Button color=\"primary\"\n                                                      onClick={() => handleStatus(item.id)}>Start service</Button></span>\n            </div>\n        </Fade>\n    }\n\n\n    handleChange = () => {\n        console.log('this.selectedId', this);\n    }\n};\n\nexport default ServiceItems;\n","import ServiceList from \"./ServiceList\";\n\nclass Utils {\n    static isValidURL(input) {\n        const pattern = '^(https?:\\\\/\\\\/)?' + // protocol\n            '((([a-zA-Z\\\\d]([a-zA-Z\\\\d-]{0,61}[a-zA-Z\\\\d])*\\\\.)+' + // sub-domain + domain name\n            '[a-zA-Z]{2,13})' + // extension\n            '|((\\\\d{1,3}\\\\.){3}\\\\d{1,3})' + // OR ip (v4) address\n            '|localhost)' + // OR localhost\n            '(\\\\:\\\\d{1,5})?' + // port\n            '(\\\\/[a-zA-Z\\\\&\\\\d%_.~+-:@]*)*' + // path\n            '(\\\\?[a-zA-Z\\\\&\\\\d%_.,~+-:@=;&]*)?' + // query string\n            '(\\\\#[-a-zA-Z&\\\\d_]*)?$'; // fragment locator\n        const regex = new RegExp(pattern);\n        return regex.test(input);\n    }\n}\n\nexport default Utils;\n","import React, {Component} from \"react\";\nimport ServiceItems from \"./ServiceItems\";\nimport Utils from \"./Utils\"\n\n/**\n * Service List component.\n *\n * @author Janos Vajda\n */\nclass ServiceList extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            items: []\n        };\n\n        this.addItem = this.addItem.bind(this);\n    }\n\n    componentDidMount() {\n        this.loadData();\n    }\n\n    loadData() {\n        fetch(\"http://localhost:8888/service\")\n            .then(res => res.json())\n            .then(\n                (result) => {\n                    console.log('Result of componentDidMount in ServiceList: ', result)\n                    this.setState({\n                        isLoaded: true,\n                        items: result\n                    });\n                },\n                (error) => {\n                    this.setState({\n                        isLoaded: true,\n                        error\n                    });\n                }\n            )\n    }\n\n    saveItem(newItem) {\n        (async () => {\n            const rawResponse = await fetch('http://localhost:8888/service', {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(newItem)\n            });\n            const response = await rawResponse.json();\n\n            console.log('Response of saveItem in ServiceList componenet: ', response);\n        })();\n    }\n\n    addItem(e) {\n        if (this._inputElement.value !== \"\" && Utils.isValidURL(this._inputElement.value)) {\n\n            let newItem = {\n                url: this._inputElement.value,\n                id: 0,\n                status: 0,\n            };\n\n            this.setState((prevState) => {\n                return {\n                    items: prevState.items.concat(newItem)\n                };\n            });\n\n            this._inputElement.value = \"\";\n\n            console.log('New item: ', newItem)\n            this.saveItem(newItem);\n        } else {\n            alert('You can save only a valid url.'); //@todo change to material alert.\n        }\n\n        e.preventDefault();\n    }\n\n    render() {\n\n        //@todo All form's element should be replaced width a Material compontents.\n        return (\n            <div className=\"serviceListMain\">\n                <div className=\"header\">\n                    <form onSubmit={ this.addItem }>\n                        <input className=\"addInput\" ref={ (a) => this._inputElement = a }\n                               placeholder=\"Add new service\">\n                        </input>\n                        <button className=\"addButton\" type=\"Add\">Add</button>\n                    </form>\n                </div>\n                <ServiceItems entries={ this.state.items }/>\n            </div>\n        );\n    }\n}\n\n\nexport default ServiceList;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport ServiceList from \"./ServiceList\";\n\nReactDOM.render(\n    <ServiceList/>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}